#pragma once

struct CustomString;

struct Operation
{
    // ----------------------------------------------------------------------------

    enum Type
    {
        // Not an operation
        NAO,
        MIN,
        MAX,
        // Opening bracket -> (
        OB,
        // Closing bracket -> )
        CB,
        // Next argument
        NA
    };

    // ----------------------------------------------------------------------------

    explicit Operation(Type type);

    // ----------------------------------------------------------------------------

    void AddBracket();

    // ----------------------------------------------------------------------------

    void AddToStr(CustomString& str) const;

    // ----------------------------------------------------------------------------

    static Type DetermineType(const CustomString* str);

    // ----------------------------------------------------------------------------

    int GetArgCount() const;

    // ----------------------------------------------------------------------------

    int GetNumberOfBrackets() const;

    // ----------------------------------------------------------------------------

    Type GetType() const;

    // ----------------------------------------------------------------------------

    void IncrementArgCount();

    // ----------------------------------------------------------------------------

    void RemoveBracket();

    // ----------------------------------------------------------------------------

private:

    // ----------------------------------------------------------------------------

    void AddType(CustomString& str) const;

    // ----------------------------------------------------------------------------

    Type m_type;
    int m_argCount;
    int m_numberOfBrackets;

    // ----------------------------------------------------------------------------
};